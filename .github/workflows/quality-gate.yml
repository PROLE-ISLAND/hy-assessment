# =====================================================
# Quality Gate (DoD判定)
# 組織の Reusable Workflow を呼び出す薄いラッパー
# =====================================================
#
# ロジックは組織リポジトリで一元管理:
# PROLE-ISLAND/.github/.github/workflows/reusable-quality-gate.yml
#
# CI完了後にPRの品質を判定してコメント投稿

name: 品質ゲート

on:
  workflow_run:
    workflows: [CI]
    types: [completed]

permissions:
  pull-requests: write
  statuses: write
  checks: write
  actions: read

jobs:
  quality-gate:
    uses: PROLE-ISLAND/.github/.github/workflows/reusable-quality-gate.yml@main
    with:
      language: 'ja'
      ci_workflow_name: 'CI'
      bronze_coverage: 80
      silver_coverage: 85
      gold_coverage: 95
